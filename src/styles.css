:root{
  --bg:#f0f2f5; --card:#ffffff; --text:#111827; --muted:#6b7280; --line:#e5e7eb;
  --blue:#1877f2; --blue-ink:#0b5cc4; --shadow:0 1px 2px rgba(0,0,0,.06),0 4px 12px rgba(0,0,0,.06);

  /* layout knobs */
  --feed-min: 640px;
  --feed-max: 700px;
  --gap: 16px;
  --rail-gap: 30px;
  --feed-gap: 12px;

  /* menu knobs */
  --menu-font: .85rem;
  --menu-min-w: 320px;
  --menu-max-w: 380px;
  --menu-pad: .28rem;
  --menu-item-vpad: .45rem;
  --menu-item-hpad: .65rem;
  --menu-icon-size: 16px;
  --menu-item-h: 44px;
  --menu-max-items: 7;
}

/* ============= Base ============= */
*{box-sizing:border-box}
html,body,#root{height:100%}
html, body { overflow-x: hidden; }
body{
  margin:0;
  font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
  background:var(--bg);
  color:var(--text);
}
a{color:var(--blue);text-decoration:none}
a:hover{text-decoration:underline}

/* Top bar (optional legacy nav) */
.nav{position:sticky;top:0;z-index:40;background:rgba(255,255,255,.9);backdrop-filter:saturate(180%) blur(8px);border-bottom:1px solid var(--line)}
.nav-inner{max-width:960px;margin:0 auto;display:flex;gap:.5rem;align-items:center;padding:.5rem .75rem}

/* Inputs / buttons */
.input,.select{
  border:1px solid var(--line);border-radius:.5rem;padding:.375rem .5rem;font-size:.9rem;background:#fff
}
.select{padding:.35rem .5rem}
.btn{border:1px solid var(--line);border-radius:.5rem;background:#fff;padding:.375rem .6rem;font-size:.9rem;cursor:pointer}
.btn:hover{background:#f9fafb}
.btn.primary{background:var(--blue);border-color:var(--blue);color:#fff}
.btn.primary:hover{background:var(--blue-ink)}

/* Default container */
.container{max-width:700px;margin:0 auto;padding:12px}

/* ============= Cards / Feed ============= */
.card{background:var(--card);border:1px solid var(--line);border-radius:.75rem;box-shadow:var(--shadow);overflow:visible;margin-bottom:1rem}
.card-head{display:flex;gap:.75rem;align-items:center;padding:1rem 1rem .25rem}
.card-body{padding:.25rem 1rem .75rem}

.name{font-weight:600}
.name-row{display:flex;align-items:center;gap:.4rem;flex-wrap:wrap}
/* meta text sizing + alignment */
.meta { font-size: .75rem; }        /* already present; keep */
.meta .subtle { font-size: inherit; }  /* <- add this so time/Sponsored match */
.meta .sep { line-height: 1; display: inline-block; transform: translateY(-1px); } /* tidy baseline */

.dots{border:none;background:transparent;padding:.25rem .4rem;border-radius:999px;cursor:pointer;color:#6b7280}
.dots:hover{background:#f3f4f6}

.avatar{width:40px;height:40px;border-radius:999px;background:#e5e7eb;flex:0 0 auto;overflow:hidden}
.avatar-img{width:40px;height:40px;border-radius:999px;object-fit:cover;display:block}

.text{margin:.25rem 0;font-size:15px;line-height:1.5;white-space:pre-wrap}
.image-btn{display:block;width:100%;border:none;background:transparent;padding:0;cursor:pointer}

/* Footer actions */
.footer{padding:.5rem;border-top:1px solid var(--line)}
.actions{display:grid;grid-template-columns:repeat(3,1fr);gap:.5rem}
.action{display:flex;align-items:center;justify-content:center;gap:.4rem;padding:.5rem;border:1px solid transparent;border-radius:.75rem;cursor:pointer;color:#374151;background:#fff;min-height:38px}
.action:hover{background:#f3f4f6}
.action.active{background:#e7f0ff;color:var(--blue)}
.action svg { display:block; } /* tighter icon vertical alignment */

/* Submit / misc */
.submit-wrap{text-align:center;margin:.5rem 0 1.5rem}
.btn-wide{display:block;width:100%;max-width:300px;margin:1rem auto}
.end{color:#6b7280;text-align:center;font-size:.9rem;padding:1.5rem}
.link-row{display:flex;flex-wrap:wrap;gap:.75rem;margin-top:.5rem}
.link{font-size:.9rem}

/* Gated blur while overlays shown */
.app-shell{transition:filter .2s ease,opacity .2s ease}
.app-shell.blurred{filter:blur(6px);opacity:.85;pointer-events:none;user-select:none}

/* “See more” clamp */
.text-wrap{position:relative}
.text.clamp{display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}
.fade-more{position:absolute;right:0;bottom:0;height:1.6em;display:inline-flex;align-items:center;gap:.35ch;background:var(--card);padding-left:.25ch;z-index:1}
.fade-more::before{content:"";position:absolute;right:100%;top:0;width:6ch;height:100%;background:linear-gradient(90deg, rgba(255,255,255,0), var(--card))}
.dots{font:inherit;line-height:inherit;display:inline}


/* Facebook-like "See more" */
.see-more {
  background: none;
  border: none;
  padding: 0;
  display: inline;
  cursor: pointer;
  font: inherit;             /* inherit same font size/style as text */
  line-height: inherit;
  color: #111827;            /* black like text */
  font-weight: 600;          /* bold */
  text-decoration: none;     /* no underline normally */
}
.see-more:hover {
  text-decoration: underline; /* underline on hover */
}

/* Badge */
.badge{display:inline-flex;align-items:center}
.badge svg{vertical-align:middle}

/* ============= Dots menu ============= */
.menu-wrap{position:relative;z-index:1}
.menu{
  position:absolute; right:.5rem; top:2.25rem;
  min-width:var(--menu-min-w); max-width:var(--menu-max-w);
  max-height: calc(var(--menu-item-h) * var(--menu-max-items)); overflow-y:auto;
  background:#fff; border:1px solid var(--line); border-radius:.75rem; box-shadow:var(--shadow);
  z-index:9999; padding:var(--menu-pad); animation:menuIn .08s ease-out;
  font-size:var(--menu-font); line-height:1.3; scrollbar-width:thin;
}
.menu::-webkit-scrollbar{width:6px}
.menu::-webkit-scrollbar-thumb{background:#d1d5db;border-radius:4px}
.menu::-webkit-scrollbar-thumb:hover{background:#9ca3af}
.menu-item{
  display:flex; align-items:flex-start; gap:.55rem;
  padding:var(--menu-item-vpad) var(--menu-item-hpad);
  border-radius:.55rem; cursor:pointer; color:#111827; background:transparent; border:none; width:100%; text-align:left;
}
.menu-item:hover{background:#f3f4f6}
.menu-divider{height:1px;background:var(--line);margin:.28rem .1rem}
.menu-item .mi-icon{
  width:var(--menu-icon-size);height:var(--menu-icon-size);
  flex:0 0 var(--menu-icon-size);color:#111827;
  display:flex;align-items:center;
  transform: translateY(.5px); /* subtle top-line align */
}
.menu-item .mi-text{display:flex;flex-direction:column;min-width:0}
.menu-item .mi-title{font-weight:600;font-size:.88rem;line-height:1.15}
.menu-item .mi-sub{font-size:.78rem;color:#6b7280;margin-top:.16rem}
.menu-item.disabled{opacity:.45;cursor:not-allowed;pointer-events:none}
@keyframes menuIn{from{opacity:0;transform:translateY(-4px)}to{opacity:1;transform:translateY(0)}}
.card-head .dots{position:relative;z-index:1001}

/* ============= Info / Note bars ============= */
.info-bar,.note-bar{padding:.5rem 1rem;border-top:1px solid var(--line);font-size:.95rem}
.info-head,.note-head{display:flex;align-items:center;gap:.4rem}
.info-icon{color:#6b7280}
.note-icon{color:#2563eb}
.info-title,.note-title{font-weight:700}
.info-sub{margin-top:.25rem;line-height:1.5;color:#6b7280}
.note-sub{margin-top:.25rem;line-height:1.5}
.info-row,.note-row{margin-top:.35rem;display:flex;align-items:center;gap:.5rem;color:#6b7280}
.info-clean{background:transparent}

/* — Ensure divider above reactions when an intervention is present — */
.info-bar + .bar-stats,
.note-bar + .bar-stats {
  border-top: 1px solid var(--line) !important;
  margin-top: .25rem;
  padding-top: .5rem;
}

/* ============= Reactions summary ============= */
.bar-stats {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: .5rem 1rem;
  font-size: .9rem;
}
.bar-stats .left{display:flex;align-items:center;gap:.5rem;white-space:nowrap}
.muted{color:var(--muted)}

.rx-stack{display:inline-flex;align-items:center}
.rx-stack .rx {
  width:20px; height:20px; border-radius:999px;
  display:flex; align-items:center; justify-content:center;
  font-size:14px; line-height:1;
  border:1px solid #fff; background:#fff;
  margin-right:-4px;
}
.rx-stack .rx:last-of-type{margin-right:0}
.rx-count{margin-left:9px;line-height:18px;display:inline-block}

/* — Tighten gap when reactions follow text directly (no image) — */
.card-body + .bar-stats {
  margin-top: -1rem; /* adjust to taste: -1rem if you want tighter */
}

/* Reaction flyout */
.like-wrap{position:relative;display:flex;flex:1}
.like-wrap .action{flex:1;justify-content:center}
.react-flyout{
  position:absolute;bottom:100%;left:.5rem;transform:translateY(-6px);
  background:#fff;border:1px solid var(--line);border-radius:999px;padding:.1rem .1rem;box-shadow:var(--shadow);
  display:flex;gap:0;z-index:30;white-space:nowrap
}
.react-flyout button{
  width:32px;height:32px;border-radius:999px;border:none;background:transparent;display:grid;place-items:center;font-size:18px;cursor:pointer;transition:transform .06s ease-out
}
.react-flyout button:hover{transform:scale(1.15)}

/* ============= Page layout (3-column + skeleton rails) ============= */
.page{
  display:grid;
  grid-template-columns: minmax(0,1fr) minmax(var(--feed-min), var(--feed-max)) minmax(0,1fr);
  gap: var(--gap);
  width: 100%;
  margin: 0;
  padding-inline: 24px;
  overflow: visible;
  justify-content: center;
}
.page .container.feed{max-width: var(--feed-max) !important; width: 100% !important; padding: 0 !important; margin: 0 auto !important;}
.page .feed > .card:first-child{margin-top:var(--feed-gap)}

.rail{
  position: sticky; align-self: start; top: var(--rail-gap);
  height: calc(100vh - var(--rail-gap));
  overflow: hidden; pointer-events: none; user-select: none;
  filter: grayscale(1) blur(1px); opacity:.55; width:100%;
}
.rail > *:first-child{margin-top:0 !important}

/* Skeleton UI */
.ghost-card{background:#fff;border:1px solid var(--line);border-radius:1rem;box-shadow:var(--shadow);margin-bottom:12px}
.ghost-card.banner{height:180px}
.ghost-card.box{padding:.75rem}
.ghost-profile{display:flex;align-items:center;gap:.6rem;padding:.6rem .75rem}
.ghost-avatar{width:32px;height:32px;border-radius:999px;background:#e5e7eb;flex:0 0 auto}
.ghost-avatar.sm{width:28px;height:28px}
.ghost-avatar.xl{width:44px;height:44px}
.ghost-avatar.online{position:relative}
.ghost-avatar.online::after{content:"";position:absolute;right:-1px;bottom:-1px;width:8px;height:8px;border:2px solid #fff;border-radius:999px;background:#22c55e}
.ghost-lines{flex:1}
.ghost-line{height:8px;border-radius:4px;margin:.22rem 0;background-image:linear-gradient(90deg,#eef2f7 0%,#f7f9fc 50%,#eef2f7 100%);background-size:220px 100%;animation:ghostShimmer 2.8s ease-in-out infinite}
.ghost-line.w-35{width:35%}.ghost-line.w-40{width:40%}.ghost-line.w-45{width:45%}.ghost-line.w-60{width:60%}.ghost-line.w-70{width:70%}
.ghost-list{background:#fff;border:1px solid var(--line);border-radius:1rem;box-shadow:var(--shadow);padding:.5rem}
.ghost-item{display:flex;align-items:center;gap:.6rem;padding:.45rem .5rem;border-radius:.5rem}
.ghost-item + .ghost-item{margin-top:.1rem}
.ghost-item.icon .ghost-icon{width:28px;height:28px;border-radius:8px;background:#e5e7eb;flex:0 0 auto}
.ghost-title{width:120px;height:10px;border-radius:4px;background:#eef2f7;margin:8px 4px}
.ghost-row{display:flex;align-items:center;gap:.6rem;padding:.35rem 0}
@keyframes ghostShimmer{0%{background-position:-220px 0}100%{background-position:220px 0}}

@media (max-width: 1200px){
  .page{ grid-template-columns: 0 minmax(var(--feed-min), 1fr) minmax(0,1fr); }
  .rail-left{ display:none; }
}
@media (max-width: 1024px){
  .page{ grid-template-columns: minmax(0,1fr); padding-inline: 12px; }
  .rail-right{ display:none; }
  .page .feed{ padding: 12px; }
}

/* ============= Modals / Overlays ============== */
.modal-backdrop{
  position:fixed; inset:0; display:grid; place-items:center; padding:16px; z-index:100;
  background:rgba(0,0,0,0.45);
}
.modal{
  background:#fff;border-radius:1rem;box-shadow:var(--shadow);
  width:calc(100vw - 48px);max-width:680px;max-height:90vh;
  display:flex;flex-direction:column;overflow:hidden;
}
.modal.modal-wide{max-width:1120px;width:calc(100vw - 64px)}
.modal-head{display:flex;align-items:center;justify-content:space-between;padding:.75rem 1rem;border-bottom:1px solid var(--line)}
.modal-body{flex:1 1 auto;padding:1rem;overflow:auto;-webkit-overflow-scrolling:touch}
.modal-footer{padding:10px 16px;border-top:1px solid var(--line);background:#fff;display:flex;gap:.5rem;justify-content:flex-end}
.textarea{width:100%;border:1px solid var(--line);border-radius:.75rem;padding:.75rem;font-size:1rem;outline:none}
.textarea:focus{border-color:var(--blue);box-shadow:0 0 0 3px rgba(24,119,242,.15)}
.modal.modal-compact{max-width:460px;width:calc(100vw - 56px);text-align:center;padding:32px 28px}

.spinner-ring{
  width:42px;height:42px;margin:0 auto 14px;border-radius:50%;
  border:3px solid #e5e7eb;border-top-color:#3b82f6; animation:spin .9s linear infinite
}
@keyframes spin{to{transform:rotate(360deg)}}

/* Report acknowledgment overlay */
.ack-overlay{
  position: fixed; inset: 0; display: flex; align-items: center; justify-content: center;
  z-index: 2000; pointer-events: none; animation: ackInOut 2.8s ease forwards;
}
.ack-overlay-box{
  pointer-events: auto; background:#fff; border:1px solid var(--line); border-radius:14px;
  box-shadow: var(--shadow); padding: 20px 24px; min-width: 360px; max-width: 480px;
  display:flex; align-items:center; gap:12px; text-align:left;
}
.ack-check{
  width:28px;height:28px;border-radius:999px;display:grid;place-items:center;background:#16a34a;color:#fff;font-weight:700;flex:0 0 auto;
}
.ack-text{ color:#111827; font-size:.98rem; line-height:1.35; }
@keyframes ackInOut{
  0%{opacity:0;transform:translateY(8px)}
  12%{opacity:1;transform:translateY(0)}
  82%{opacity:1;transform:translateY(0)}
  100%{opacity:0;transform:translateY(-6px)}
}

/* Toast */
.toast{position:fixed;left:50%;transform:translateX(-50%);bottom:16px;background:#000;color:#fff;padding:.5rem .75rem;border-radius:.5rem;font-size:.85rem;box-shadow:var(--shadow)}

/* --- Admin & forms polish --- */
.subtle { color: #6b7280; font-size: .9rem; }
.btn.ghost.active { border-color: var(--line); background: rgba(37, 99, 235, .06); }
.card h3 { font-weight: 700; font-size: 1.15rem; }

.admin-shell{width:100%;max-width:1440px;margin:0 auto;padding:16px}
@media (min-width:1536px){ .admin-shell{ max-width:1600px } }
.admin-shell .card{width:100%}

.admin-grid{grid-template-columns:minmax(0,1fr)}
@media (min-width:1024px){
  .admin-grid{grid-template-columns:1fr 1fr; align-items:start}
}

/* Editor panels */
.editor-grid { display:grid; gap:16px; grid-template-columns: 1fr 480px; }
@media (max-width: 980px) { .editor-grid { grid-template-columns: 1fr; } }
.editor-form { display:grid; gap:.75rem; }
.section-title { margin:.25rem 0; font-size:.95rem; font-weight:700; color:#374151; }
.fieldset { border:1px solid var(--line); border-radius:.5rem; padding:.75rem; display:grid; gap:.75rem; }
.grid-2 { display:grid; gap:.5rem; grid-template-columns: 1fr 1fr; }
.grid-3 { display:grid; gap:.5rem; grid-template-columns: repeat(3, 1fr); }
@media (max-width:640px){ .grid-2, .grid-3 { grid-template-columns:1fr; } }
.avatar-preview { display:flex; align-items:center; justify-content:flex-end; }

/* Reaction pills (admin) */
.rx-pills { display:flex; flex-wrap:wrap; gap:.5rem; }
.pill { display:inline-flex; align-items:center; gap:.35rem; border:1px solid var(--line); border-radius:.5rem; padding:.25rem .55rem; cursor:pointer; user-select:none; }
.pill input { display:none; }
.pill .emoji { font-size:1rem; }
.pill.active { background:#f3f4f6; border-color:#e5e7eb; }

/* Admin preview */
.editor-preview { position:sticky; top:16px; align-self:start; overflow:hidden }
.preview-head { font-size:.85rem; color:#6b7280; margin-bottom:.5rem; padding-left:.25rem; }
.editor-preview .card { box-shadow:none; border:1px solid var(--line); }
.preview-zoom { transform: scale(.9); transform-origin: top left; }

/* FAB — ensure always clickable above overlays/top rail */
/* === Admin FAB (subtle overlay style) === */
.admin-fab-wrap {
  position: fixed;
  bottom: 12px;
  right: 12px;
  z-index: 2000;
  pointer-events: none;              /* wrapper is inert */
}
.admin-fab-wrap .btn.admin-fab {
  pointer-events: auto;              /* button remains clickable */
}

.btn.admin-fab {
  position: relative;
  width: 40px;
  height: 40px;
  border-radius: 999px;
  border: 0;
  background: transparent;
  color: #6b7280;                    /* gear icon color */
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.1rem;

  /* barely visible by default */
  opacity: 0.06;
  transition: opacity .25s ease, transform .25s ease, box-shadow .25s ease;
}

/* Overlay circle — but behind the icon */
.btn.admin-fab::before {
  content: "";
  position: absolute;
  inset: 0;
  border-radius: inherit;
  background: rgba(255,255,255,.35);
  box-shadow:
    0 0 0 1px rgba(17,24,39,.08),
    inset 0 0 0 1px rgba(255,255,255,.25);
  backdrop-filter: blur(6px);
  -webkit-backdrop-filter: blur(6px);
  opacity: .18;
  transition: opacity .25s ease, box-shadow .25s ease;
  z-index: -1; /* <-- put it behind the gear icon */
}

/* Hover/focus: show everything clearly */
.btn.admin-fab:hover,
.btn.admin-fab:focus-visible {
  opacity: 1;
  transform: scale(1.05);
}
.btn.admin-fab:hover::before,
.btn.admin-fab:focus-visible::before {
  background: #fff;
  opacity: 1;
  box-shadow:
    0 0 0 1px var(--line),
    0 6px 18px rgba(0,0,0,.08);
}
/* --- Inputs with inline icon button (eye) --- */
.input-wrap { position:relative; display:flex; align-items:center; }
.input-wrap .input { width:100%; padding-right:2.5rem; }
.input-icon-btn {
  position:absolute; right:.5rem; top:50%; transform:translateY(-50%);
  padding:.25rem; background:none; border:none; cursor:pointer; color:#6b7280; transition:color .2s ease;
}
.input-icon-btn:hover { color:#111827; }

/* Hoverable metrics (comments / shares) */
.metric.hoverable { position: relative; }
.names-tooltip {
  position: absolute;
  z-index: 10000;
  top: calc(100% + 6px);
  left: 0;
  min-width: 220px;
  max-width: 280px;
  background: #fff;
  border: 1px solid var(--line, #e5e7eb);
  border-radius: 10px;
  padding: .6rem .7rem;
  box-shadow: 0 6px 24px rgba(0,0,0,.08);
}
.names-title { font-weight: 600; font-size: .9rem; margin-bottom: .35rem; color: #111827; }
.names-list { margin: 0; padding-left: 1rem; line-height: 1.35; color: #374151; }
.names-list li { margin: 0; }
.names-more, .names-empty { margin-top: .3rem; color: #6b7280; font-size: .9rem; }

.hoverable-metric{ cursor:pointer; }
.hoverable-metric[aria-expanded="true"]{ cursor:default; text-decoration:underline; }

/* ===== Placeholder top rail (aligned to page grid) ===== */
.top-rail-placeholder{
  position: sticky;
  top: 0;
  z-index: 100;
  background:#fff;
  border-bottom:1px solid var(--line);
}
.top-rail-placeholder .trp-inner{
  width: 100%;
  display:grid;
  grid-template-columns: minmax(0,1fr) minmax(var(--feed-min), var(--feed-max)) minmax(0,1fr);
  align-items:center;
  height:52px;
  padding: 0 24px;
}
/* left / center / right map to the grid columns */
.trp-left{ grid-column:1; justify-self:start; display:flex; align-items:center; gap:12px; }
.trp-center{ grid-column:2; justify-self:center; display:flex; gap:24px; }
.trp-right{ grid-column:3; justify-self:end; display:flex; align-items:center; gap:10px; }
/* placeholders */
.trp-logo{ width:32px; height:32px; border-radius:999px; background:#e5e7eb; }
.trp-search{ width:160px; height:28px; border-radius:999px; background:#f0f2f5; }
.trp-tab{ width:40px; height:28px; border-radius:6px; background:#f3f4f6; }
.trp-btn{ width:32px; height:32px; border-radius:999px; background:#e5e7eb; }
.trp-avatar{ width:32px; height:32px; border-radius:999px; background:#d1d5db; }

/* Keep feed + rails aligned under the top rail */
.page { padding-top: var(--feed-gap); }
.page .feed > .card:first-child { margin-top: 0 !important; }

/* === Top bars: Feed vs Admin (place at END of CSS) === */

/* In ADMIN: hide the feed top rail, show the legacy nav */
body.admin-mode .top-rail-placeholder { display: none !important; }
body.admin-mode .nav { display: block !important; }

/* In FEED (not admin): hide the legacy nav, show the feed top rail */
body:not(.admin-mode) .nav { display: none !important; }
body:not(.admin-mode) .top-rail-placeholder { display: grid !important; }

/* Keep spacing consistent regardless of which bar is showing */
.page { padding-top: var(--feed-gap); }

/* ================== Admin Login (matches your AdminLogin JSX) ================== */

/* Full-screen center with a soft, neutral gradient (subtle) */
.admin-login-wrap {
  min-height: 100vh;
  display: grid;
  place-items: center;
  padding: 16px;
  background:
    radial-gradient(1200px 600px at 10% -20%, rgba(37, 99, 235, 0.10), transparent 60%),
    radial-gradient(1200px 600px at 110% 120%, rgba(16, 185, 129, 0.10), transparent 60%),
    linear-gradient(#f8fafc, #f3f4f6);
}

/* Card overrides specifically for the login box */
.admin-login-wrap .card.admin-login-card {
  width: min(420px, 92vw);
  padding: 16px 20px;
  border-radius: 16px;
  border: 1px solid var(--line);
  background: #fff;
  /* Stronger, clean shadow for a dialog feel */
  box-shadow: 0 10px 30px rgba(2, 6, 23, 0.08);
}

/* Title + subtitle spacing */
.admin-login-wrap .card.admin-login-card h2 {
  font-size: 1.25rem;
  font-weight: 700;
}
.admin-login-wrap .card.admin-login-card .subtle {
  font-size: .95rem;
  color: #6b7280;
}

/* Label spacing */
.admin-login-wrap .card.admin-login-card label {
  font-weight: 600;
  display: grid;
  gap: .4rem;
  margin-top: 1rem;
}

/* Password input with eye toggle */
.input-with-toggle {
  position: relative;
}
.input-with-toggle .input {
  width: 100%;
  padding-right: 2.25rem; /* room for the eye button */
}
.eye-btn {
  position: absolute;
  right: 8px;
  top: 50%;
  transform: translateY(-50%);
  border: 0;
  background: transparent;
  padding: 4px;
  line-height: 0;
  color: #6b7280;
  cursor: pointer;
  transition: color .2s ease;
}
.eye-btn:hover { color: #374151; }

/* Error message look (uses inline crimson color from JSX as fallback) */
.admin-login-wrap .card.admin-login-card .error,
.admin-login-wrap .card.admin-login-card [style*="color: crimson"] {
  background: #fef2f2;
  color: #991b1b !important;
  border: 1px solid #fecaca;
  border-radius: 8px;
  padding: .5rem .6rem;
  font-size: .9rem;
}

/* Full-width primary button already in JSX; polish hover via existing vars */
.admin-login-wrap .card.admin-login-card .btn.primary {
  width: 100%;
  margin-top: 1rem;
}

/* Optional: hide feed top rail, show legacy nav while on the login page */
body:has(.admin-login-wrap) .top-rail-placeholder { display: none !important; }
body:has(.admin-login-wrap) .nav { display: block !important; }

.video-wrap {
  position: relative;
  width: 100%;
  aspect-ratio: 16 / 9;   /* the slot shape – shows pillarboxing for portrait */
  background: #000;
  overflow: hidden;
  border-radius: 8px;
}

.video-el {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;            /* important: both dimensions set */
  object-fit: contain;     /* no crop; black bars left/right for vertical video */
  display: block;
  background: #000;
}
.video-center-btn {
  position: absolute;
  inset: 0;
  margin: auto;
  width: 66px;
  height: 66px;
  border-radius: 999px;
  border: none;
  background: rgba(0,0,0,.55);
  color: #fff;
  font-size: 28px;
  line-height: 1;
  display: grid;
  place-items: center;
  cursor: pointer;
  transition: transform .08s ease, background .12s ease;
}
.video-center-btn:hover { background: rgba(0,0,0,.7); transform: scale(1.03); }
.video-center-btn:active { transform: scale(0.98); }
.video-mute-btn {
  position: absolute;
  left: 8px;
  bottom: 8px;
  padding: 6px 10px;
  border-radius: 999px;
  border: none;
  background: rgba(0,0,0,.55);
  color: #fff;
  font-size: 14px;
  cursor: pointer;
}
.video-mute-btn:hover { background: rgba(0,0,0,.7); }

/* NEW */
.video-wrap {
  position: relative;
  width: 100%;
  background: #000;
  overflow: hidden;
  border-radius: 8px;
  aspect-ratio: 16 / 9;                  /* fixed box; no layout jumps */
  max-height: min(60vh, 520px);          /* clamp overall height */
}

.video-el {
  position: absolute;                     /* fill the box */
  inset: 0;
  width: 100%;
  height: 100%;
  object-fit: contain;                    /* pillarbox for vertical videos */
  background: #000;
}

/* Drive embed should also fill the box */
.video-wrap.drive-embed iframe {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  border: 0;
  display: block;
  background: #000;
}

/* Make sure the center play button really centers inside the box */
.video-center-btn {
  position: absolute;
  inset: 0;
  margin: auto;
  z-index: 2;                             /* over the video */
}
.video-mute-btn { z-index: 2; }

/* kill rounded corners on videos */
.video-wrap,
.video-el {
  border-radius: 0 !important;
}

/* FB-like video control bar */
.fb-controls{
  position:absolute;
  left:0; right:0; bottom:0;
  height:40px;
  display:flex;
  align-items:center;
  gap:6px;
  padding:0 8px;
  /* subtle dark gradient like FB */
  background: linear-gradient(to top, rgba(0,0,0,.55), rgba(0,0,0,0));
  opacity:0;
  transition: opacity .15s ease;
  pointer-events:none;               /* bar is inert unless visible */
}
.video-wrap:hover .fb-controls{ opacity:1; pointer-events:auto; }

.fb-btn {
  background: none;        /* remove dark background */
  box-shadow: none;        /* remove 3D effect */
  border: none;            /* no borders */
  color: white;            /* icons/text show as flat white */
  padding: 4px;            /* small click/tap area */
  border-radius: 0;        /* remove pill/circle */
}

.fb-btn:hover {
  background: rgba(255,255,255,0.1); /* optional subtle hover highlight */
}

.fb-spacer{ flex:1; }

/* settings popover */
.fb-settings{ position:relative; }
.fb-settings-menu{
  position:absolute;
  bottom: 36px;            /* float above the bar */
  right: 0;
  background:#111827;
  color:#fff;
  border:1px solid rgba(255,255,255,.08);
  border-radius:8px;
  padding:6px;
  box-shadow:0 8px 28px rgba(0,0,0,.25);
  min-width:120px;
  z-index:5;
}
.fb-settings-item{
  width:100%;
  text-align:left;
  border:0;
  background:transparent;
  color:#fff;
  padding:6px 8px;
  border-radius:6px;
  cursor:pointer;
  font-size:13px;
}
.fb-settings-item:hover{ background: rgba(255,255,255,.08); }
.fb-settings-item.active{ background: rgba(255,255,255,.16); }



/* --- Volume popover container (no dark box) --- */
.fb-vol { position: relative; pointer-events: auto; }
.fb-vol > button { position: relative; z-index: 10; }

.fb-vol-pop{
  position:absolute; bottom: calc(100% + 10px); left:50%;
  transform: translateX(-50%);
  background: transparent; border:0; padding:0; box-shadow:none;
  z-index: 9; pointer-events:auto;
  opacity:1; transition: opacity .12s ease, transform .12s ease;
}
.fb-vol-pop.hide{ opacity:0; transform:translateX(-50%) translateY(6px) scale(.98); pointer-events:none; }

/* ---- Volume sizes & colors ---- */
:root{
  --vol-len: 100px;
  --vol-track: 4px;
  --vol-thumb: 6px;
  --vol-pad: 6px;

  /* Defaults now match the timeline: grey track + white fill */
  --vol-base: rgba(255,255,255,.25);  /* unfilled */
  --vol-fill: #fff;                   /* filled */
  --vol-val: 100;
}

/* Holder for visual + input */
.fb-vol-box{
  position: relative;
  width: 28px;
  height: calc(var(--vol-len) + var(--vol-pad) * 2);
  display: grid;
  place-items: center;
}

/* Perfectly rounded pill behind the input (padded) */
.fb-vol-visual{
  position: absolute;
  top: var(--vol-pad);
  bottom: var(--vol-pad);
  left: 50%;
  /* center without sub-pixel translate */
  margin-left: calc(var(--vol-track) / -2);
  width: var(--vol-track);

  /* padding creates an inner gutter so the fill never reaches the outer edge */
  padding: 2px;

  border-radius: 999px;
  background: var(--vol-base);
  overflow: hidden;
  pointer-events: none;
}

/* Fill grows bottom-up, inset to stay fully inside the pill */
.fb-vol-visual::after{
  content: "";
  position: absolute;
  left: 2px;                /* match the padding above */
  right: 2px;
  bottom: 2px;
  height: calc(var(--vol-val) * 1%);
  background: var(--vol-fill);
  border-radius: 999px;
  will-change: height;
}

/* Native slider on top: transparent track; keep only thumb */
.fb-vol-slider{
  position: relative;
  z-index: 1;
  -webkit-appearance: slider-vertical !important;
  appearance: none;
  width: 28px;
  height: var(--vol-len);
  background: transparent;
  padding: 0; border: 0; outline: none;
  cursor: pointer;
  accent-color: transparent;
  touch-action: none;
  -webkit-tap-highlight-color: transparent;
}
.fb-vol-slider::-webkit-slider-runnable-track{ background: transparent; border: 0; height: 100%; }
.fb-vol-slider::-moz-range-track{ background: transparent; border: 0; }
.fb-vol-slider::-moz-range-progress{ background: transparent !important; }

.fb-vol-slider::-webkit-slider-thumb{
  -webkit-appearance: none;
  appearance: none;
  width: var(--vol-thumb);
  height: var(--vol-thumb);
  border-radius: 50%;
  background: #fff;
  border: 0;
  box-shadow: 0 2px 10px rgba(0,0,0,.25);
  margin: 0;
}
.fb-vol-slider::-moz-range-thumb{
  width: var(--vol-thumb);
  height: var(--vol-thumb);
  border-radius: 50%;
  background: #fff;
  border: 0;
  box-shadow: 0 2px 10px rgba(0,0,0,.25);
  margin: 0;
}

/* Firefox fallback (rotate) */
@supports not (-webkit-appearance: slider-vertical) {
  .fb-vol-slider{
    -webkit-appearance: none; appearance: none;
    width: calc(var(--vol-len) + var(--vol-thumb));
    height: 28px;
    transform: rotate(-90deg);
    transform-origin: center;
    background: transparent;
  }
}

/* Focus ring */
.fb-vol-slider:focus-visible{
  outline: 2px solid rgba(255,255,255,.6);
  outline-offset: 2px;
}

/* --- Inline controls row (time | progress | mute/settings/fs) --- */
.fb-ctrls{
  display:flex;
  align-items:center;
  gap:8px;
  pointer-events:auto; /* make the row interactive */
}
.fb-ctrl-left{ display:flex; align-items:center; gap:6px; }
.fb-ctrl-right{ display:flex; align-items:center; gap:6px; }

/* Seek/timeline that sits inline between the left and right clusters */
.fb-progress-inline{
  flex:1;
  position:relative;
  height:6px;
  border-radius:999px;
  background: rgba(255,255,255,.25); /* same as your top progress track */
  cursor:pointer;
  overflow:hidden;
}

/* ===== Admin Login: segmented toggle buttons - equal size ===== */
.admin-login-wrap .admin-login-card .segmented {
  display: flex;
  gap: 8px;
  margin-top: 12px;
}
.admin-login-wrap .admin-login-card .segmented .btn {
  flex: 1 1 0;                  /* equal widths */
  display: flex;                /* center text vertically */
  align-items: center;
  justify-content: center;
  white-space: nowrap;          /* prevent wrapping → consistent height */
  height: 40px;                 /* fixed equal height */
  padding: 0 .75rem;            /* consistent horizontal padding */
  line-height: 1;               /* remove extra vertical space variance */
}

/* ===== Admin Login: label → field spacing a bit larger ===== */
.admin-login-wrap .card.admin-login-card label {
  display: grid;
  gap: .6rem;                   /* was .4rem — gives a touch more space */
  margin-top: 1rem;
}

/* Segmented toggle: lock into one row, equal size, perfectly aligned */
.admin-login-wrap .admin-login-card .segmented{
  display: grid !important;
  grid-template-columns: 1fr 1fr;  /* two equal columns */
  gap: 8px;
  align-items: stretch;            /* same vertical alignment */
}

.admin-login-wrap .admin-login-card .segmented .btn{
  width: 100%;
  height: 42px;                    /* same height for both */
  margin: 0;                       /* kill any stray margins */
  padding: 0 .75rem;               /* horizontal only */
  line-height: 1;                  /* consistent vertical centering */
  display: flex; align-items: center; justify-content: center;
  white-space: nowrap;
}

/* --- Feed table row highlighting --- */
.feed-row {
  transition: background-color .15s ease, box-shadow .15s ease;
}

.feed-row:hover {
  background: var(--row-hover, #f8fafc);
}

/* currently loaded feed (the one in the editor) */
.feed-row.is-loaded {
  background: var(--row-loaded-bg, #eef6ff);
  box-shadow: inset 0 0 0 2px var(--accent, #2563eb);
}

/* backend default feed (when not the loaded one) */
.feed-row.is-default:not(.is-loaded) {
  background: var(--row-default-bg, #f0fdf4);
  box-shadow: inset 0 0 0 1px #10b981;
}

/* tiny state dot in the first column */
.feed-dot {
  width: 8px;
  height: 8px;
  border-radius: 50%;
  display: inline-block;
  background: var(--line);
  vertical-align: middle;
}

.feed-row.is-default .feed-dot { background: #10b981; } /* green for default */
.feed-row.is-loaded  .feed-dot { background: #2563eb; } /* blue for loaded */

/* header chip showing which feed is being edited */
.editing-chip {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 0.25rem 0.6rem;
  border-radius: 9999px;
  font-size: 0.85rem;
  font-weight: 500;
  background: var(--blue, #2563eb);
  color: #fff;
  line-height: 1.2;
}

/* === Admin session warning banner === */
.admin-banner {
  /* base “card” look, but slim */
  border: 1px solid var(--line);
  background: #fff7ed;           /* warm amber-ish */
  color: #7c2d12;
  border-radius: .75rem;
  box-shadow: var(--shadow);

  /* the padding you asked about */
  padding: .6rem .8rem;

  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: .75rem;
  margin-bottom: 1rem;            /* space below the bar */
}
.admin-banner .title {
  display: flex;
  align-items: baseline;
  gap: .5rem;
  font-weight: 700;
}
.admin-banner .title .subtle {
  font-size: .9rem;
  color: #92400e;                 /* slightly darker than body text */
}
.admin-banner .actions {
  display: flex;
  gap: .5rem;
  flex-wrap: wrap;
}

/* === Admin expired-session overlay === */
.admin-expired-backdrop {
  position: fixed;
  inset: 0;
  background: rgba(17,24,39,.7);
  display: grid;
  place-items: center;
  z-index: 9999;                 /* above menus/tooltips */
  padding: 16px;                 /* small gutter on mobile */
}
.admin-expired-dialog {
  width: min(520px, 92vw);
  background: #fff;
  border: 1px solid var(--line);
  border-radius: .75rem;
  box-shadow: var(--shadow);
  padding: 1.2rem;
}
.admin-expired-dialog h3 { margin: 0 0 .5rem 0; }
.admin-expired-dialog .subtle { margin: 0 0 .75rem 0; }
.admin-expired-actions {
  display: flex;
  gap: .5rem;
  justify-content: flex-end;
}

/* ===== DEBUG: show viewport outline ===== */
body::before {
  content: "Viewport boundary";
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  pointer-events: none;
  border: 3px dashed rgba(255, 0, 0, 0.5);
  z-index: 9999;
  font-size: 12px;
  color: red;
  background: rgba(255,0,0,0.05);
}


